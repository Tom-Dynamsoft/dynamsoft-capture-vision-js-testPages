<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamsoft Capture Vision for the Web Step by Step</title>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-capture-vision-bundle@2.2.3000/dist/dcv.bundle.js"></script>

  </head>
  <body>
    <div
      id="results"
      style="width: 100%; min-height: 10vh; font-size: 3vh; overflow: auto"
    ></div>
    <div
      id="results"
      style="width: 100%; min-height: 10vh; font-size: 3vh; overflow: auto"
    ></div>
    <script>
      Dynamsoft.License.LicenseManager.initLicense(
        "DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9"
      );
      let passportMRZStr =
        "P<D<<ADENAUER<<KONRAD<HERMANN<JOSEPH<<<<<<<<1234567897D<<7601059M6704115<<<<<<<<<<<<<<<2";

      const resultsContainer = document.querySelector("#results");
      (async function () {
        await Dynamsoft.DCP.CodeParserModule.loadSpec("MRTD_TD3_PASSPORT");
        parser = await Dynamsoft.DCP.CodeParser.createInstance();

        let parsedResultItem = await parser.parse(passportMRZStr);
        console.log("parsedResultItem: ", parsedResultItem);
        if (!parsedResultItem.exception) {
          let parsedResult = JSON.parse(parsedResultItem.jsonString);
          let parsedLines = parsedResult.ResultInfo;
          resultsContainer.innerHTML = "";
          parsedLines.forEach((element) => {
            resultsContainer.innerHTML +=
              "<hr><strong>" + element.FieldName + "</strong><br /><hr>";
            element.ChildFields[0].forEach((childElement) => {
              resultsContainer.innerHTML +=
                "  " +
                `${childElement.FieldName}: <strong>${childElement.Value}</strong><br />`;
            });
          });
        }
      })();
    </script>
  </body>
</html>
